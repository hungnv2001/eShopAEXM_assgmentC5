@model IEnumerable<Assignment.Models.DomainClass.Product>

@{
	ViewData["Title"] = "ListProduct";
}

<h2>ListProduct</h2>

<p>
	<a asp-action="Create">Create New</a>
</p>
<table class="table" ">
	<thead>
		<tr>
			<th>
@Html.DisplayNameFor(model => model.Name)
			</th>
			<th>
@Html.DisplayNameFor(model => model.Description)
			</th>
			<th>
@Html.DisplayNameFor(model => model.Price)
			</th>

			<th>
@Html.DisplayNameFor(model => model.Brand)
			</th>
			<th>
@Html.DisplayNameFor(model => model.Status)
			</th>
			<th>
@Html.DisplayNameFor(model => model.ImageMainUrl)
			</th>

			<th>Các size</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
@foreach (var item in Model)
{
			<tr class="text-center align-middle" style="vertical-align: middle!important;">
				<td style="vertical-align: middle!important;">
			@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td style="vertical-align: middle!important;">
			@if (item.Description.Length > 20)
			{
				@item.Description.Substring(0,50)
				;
			}
			else
			{
				@item.Description
				;
			}
				</td>
				<td style="vertical-align: middle!important;">
			@Html.DisplayFor(modelItem => item.Price)
				</td>

				<td style="vertical-align: middle!important;">
			@Html.DisplayFor(modelItem => item.Brand.Name)
				</td>
				<td style="vertical-align: middle!important;">
			@(item.Status == 1 ? "Đang bán" : "Ngừng bán")
				</td>
				<td style="vertical-align: middle!important;">
					<img src="@item.ImageMainUrl" style="height: 230px">
				</td>
				<td style="vertical-align: middle!important;">
			@foreach (var i in item.ProductVariants)
			{
				<p>@i.Color.Name - @i.Size.Name</p>
			}
				</td>
				<td style="vertical-align: middle!important;">
					<a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
					<a asp-action="Details" asp-route-id="@item.Id">Details</a> |
					<a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
				</td>
			</tr>
}
	</tbody>
</table>
