@model IEnumerable<Assignment.Models.DomainClass.Product>
@using Assignment.Models.DomainClass;
@{
	ViewData["Title"] = "Index";
}
<!--banner-->
<div class="d-flex flex-column bg-light align-items-center justify-content-center mb-5" style="min-height: 300px; background-color:rgb(199, 203, 215)!important">
	<h1 class="font-weight-semi-bold text-uppercase mb-3">Our Shop</h1>
	<div class="d-inline-flex">
		<p class="m-0"><a href="">Home</a></p>
		<p class="m-0 px-2">-</p>
		<p class="m-0">Shop</p>
	</div>
</div>

<!--banner-->

<div class="row text-center " style="margin: 0 auto;">
	<div class="col-lg-3 col-md-12">
		<!-- Price Start -->
		<div class="border-bottom mb-4 pb-4">
			<h5 class="font-weight-semi-bold mb-4">Filter by price</h5>
			<form>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" checked="" id="price-all">
					<label class="custom-control-label" for="price-all">All Price</label>
					<span class="badge border font-weight-normal">1000</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="price-1">
					<label class="custom-control-label" for="price-1">$0 - $100</label>
					<span class="badge border font-weight-normal">150</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="price-2">
					<label class="custom-control-label" for="price-2">$100 - $200</label>
					<span class="badge border font-weight-normal">295</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="price-3">
					<label class="custom-control-label" for="price-3">$200 - $300</label>
					<span class="badge border font-weight-normal">246</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="price-4">
					<label class="custom-control-label" for="price-4">$300 - $400</label>
					<span class="badge border font-weight-normal">145</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between">
					<input type="checkbox" class="custom-control-input" id="price-5">
					<label class="custom-control-label" for="price-5">$400 - $500</label>
					<span class="badge border font-weight-normal">168</span>
				</div>
			</form>
		</div>
		<!-- Price End -->
		<!-- Color Start -->
		<div class="border-bottom mb-4 pb-4">
			<h5 class="font-weight-semi-bold mb-4">Filter by color</h5>
			<form>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" checked="" id="color-all">
					<label class="custom-control-label" for="price-all">All Color</label>
					<span class="badge border font-weight-normal">1000</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="color-1">
					<label class="custom-control-label" for="color-1">Black</label>
					<span class="badge border font-weight-normal">150</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="color-2">
					<label class="custom-control-label" for="color-2">White</label>
					<span class="badge border font-weight-normal">295</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="color-3">
					<label class="custom-control-label" for="color-3">Red</label>
					<span class="badge border font-weight-normal">246</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="color-4">
					<label class="custom-control-label" for="color-4">Blue</label>
					<span class="badge border font-weight-normal">145</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between">
					<input type="checkbox" class="custom-control-input" id="color-5">
					<label class="custom-control-label" for="color-5">Green</label>
					<span class="badge border font-weight-normal">168</span>
				</div>
			</form>
		</div>
		<!-- Color End -->
		<!-- Size Start -->
		<div class="mb-5">
			<h5 class="font-weight-semi-bold mb-4">Filter by size</h5>
			<form>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" checked="" id="size-all">
					<label class="custom-control-label" for="size-all">All Size</label>
					<span class="badge border font-weight-normal">1000</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="size-1">
					<label class="custom-control-label" for="size-1">XS</label>
					<span class="badge border font-weight-normal">150</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="size-2">
					<label class="custom-control-label" for="size-2">S</label>
					<span class="badge border font-weight-normal">295</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="size-3">
					<label class="custom-control-label" for="size-3">M</label>
					<span class="badge border font-weight-normal">246</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
					<input type="checkbox" class="custom-control-input" id="size-4">
					<label class="custom-control-label" for="size-4">L</label>
					<span class="badge border font-weight-normal">145</span>
				</div>
				<div class="custom-control custom-checkbox d-flex align-items-center justify-content-between">
					<input type="checkbox" class="custom-control-input" id="size-5">
					<label class="custom-control-label" for="size-5">XL</label>
					<span class="badge border font-weight-normal">168</span>
				</div>
			</form>
		</div>
		<!-- Size End -->
	</div>
	<div class="col-lg-9 col-md-12">
		<div class="row pb-3 ms-5 me-5">
			@{
				int x = ViewBag.Page;
				int startIdx = (ViewBag.Page - 1) * 9;
				int endIdx = ((startIdx + 9) < Model.Count()) ? startIdx + 9 : Model.Count();
				int count = 0;
			}
			@for (int i = startIdx; i < endIdx; i++)
			{
				count++;
				<div class="col-lg-4 col-md-6 col-sm-12 pb-1">
					<div class="card product-item border-0 mb-4">
						<div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
							<img class="img-fluid" style="height:300px;" src="@Model.ToList()[i].ImageMainUrl" alt="">
						</div>
						<div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
							<h6 class="text-truncate mb-3">@Model.ToList()[i].Name</h6>
							<div class="d-flex justify-content-center">
								<h6>@Model.ToList()[i].Price</h6><h6 class="text-muted ml-2"><del>$123.00</del></h6>
							</div>
						</div>
						<div class="card-footer d-flex justify-content-between bg-light border">
							<a asp-action="Details" asp-route-id="@Model.ToList()[i].Id" class="btn btn-sm text-dark p-0">
								<i class="fas fa-eye text-primary mr-1"></i>View Detail
							</a>
							<a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart</a>
						</div>
					</div>
				</div>
				if (count == 9)
				{
					break;
				}

			}
			<div class="col-12 pb-1">
				<nav aria-label="Page navigation">
					<ul class="pagination justify-content-center mb-3">
						@{
							int currenPage = ViewBag.Page;
							int maxPage = (int)Math.Ceiling((double)Model.Count() / 9);
						}
						@if (currenPage == 1)
						{
							<li class="page-item disabled">
								<a class="page-link" href="#" aria-label="Previous">
									<span aria-hidden="true">«</span>
									<span class="sr-only">Previous</span>
								</a>
							</li>
						}

						else
						{
							<li class="page-item ">
								<a class="page-link" asp-action="Shop" asp-route-keyword="@ViewBag.keyword" asp-route-id="1" asp-route-keyword="@ViewBag.keyword" aria-label="Previous">
									<span aria-hidden="true">«</span>
									<span class="sr-only">Previous</span>
								</a>
							</li>
						}
						@if (currenPage == maxPage && maxPage > 2)
						{
							<li class="page-item "><a class="page-link" asp-action="Shop" asp-route-keyword="@ViewBag.keyword" asp-route-id="@(maxPage-2) " asp-route-keyword="@ViewBag.keyword">@(maxPage - 2) </a></li>
						}
						@for (int i = currenPage - 1; i <= currenPage + 1; i++)
						{
							int j = i;
							if (currenPage == 1)
							{
								j = i + 1;
							}
							if (j == currenPage)
							{
								<li class="page-item active"><a class="page-link" asp-action="Shop" asp-route-keyword="@ViewBag.keyword" asp-route-id="@j" asp-route-keyword="@ViewBag.keyword">@j</a></li>
							}
							else
							{
								<li class="page-item"><a class="page-link" asp-action="Shop" asp-route-keyword="@ViewBag.keyword" asp-route-id="@j" asp-route-keyword="@ViewBag.keyword">@j</a></li>
							}
							if (j == maxPage) break;
						}
						@if (currenPage == maxPage)
						{
							<li class="page-item disabled">
								<a class="page-link" href="#" aria-label="Next">
									<span aria-hidden="true">»</span>
									<span class="sr-only">Next</span>
								</a>
							</li>
						}
						else
						{
							<li class="page-item">
								<a class="page-link" asp-action="Shop" asp-route-keyword="@ViewBag.keyword" asp-route-id="@maxPage" asp-route-keyword="@ViewBag.keyword" aria-label="Next">
									<span aria-hidden="true">»</span>
									<span class="sr-only">Next</span>
								</a>
							</li>
						}

					</ul>
				</nav>
			</div>
		</div>
	</div>
</div>

